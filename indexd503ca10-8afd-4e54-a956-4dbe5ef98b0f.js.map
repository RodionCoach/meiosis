{"version":3,"file":"indexd503ca10-8afd-4e54-a956-4dbe5ef98b0f.js","sources":["../../../../node_modules/style-inject/dist/style-inject.es.js","../../src/plugins/timeline/Timeline.js","../../src/views/meiosis/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import \"./timeline.css\";\n\nconst LAYOUT = `\n    <div class=\"loadingStatus\">Loading...</div>\n    <div class=\"progressBar\"></div>\n    <canvas class=\"view\"></canvas>\n    <div class=\"controlsWrapper\">\n      <button class=\"playButton\">Play</button>\n      <input class=\"rangeControl\" type=\"range\" value=\"0\" min=\"0\">\n    </div>\n`;\n\nexport default class Timeline {\n  constructor({\n    containerId,\n    namePattern,\n    fileExtension,\n    framesCount,\n    framesFolder,\n    fps,\n    info,\n    layout = LAYOUT,\n    prefix = \"00000\",\n    separator = \"_\",\n    onLoad = () => {},\n    canvasRes = {},\n  }) {\n    this.currentFrame = 0;\n    this.isPlaying = false;\n    this.data = [];\n    this.interval = null;\n    this.containerId = containerId;\n    this.namePattern = namePattern;\n    this.fileExtension = fileExtension;\n    this.framesCount = framesCount;\n    this.framesFolder = framesFolder;\n    this.fps = fps;\n    this.info = info;\n    this.layout = layout;\n    this.prefix = prefix;\n    this.separator = separator;\n    this.onLoad = onLoad;\n    this.isEnded = false;\n    this.canvasResolution = canvasRes;\n  }\n\n  init() {\n    const container = document.getElementById(this.containerId);\n    container.classList.add(\"timelineWrapper\");\n    container.innerHTML = this.layout;\n    [this.loadingStatus] = container.getElementsByClassName(\"loadingStatus\");\n    [this.progressBar] = container.getElementsByClassName(\"progressBar\");\n    [this.playButton] = container.getElementsByClassName(\"playButton\");\n    [this.rangeControl] = container.getElementsByClassName(\"rangeControl\");\n    this.closeInfoContainer = document.getElementById(\"closeInfoContainer\");\n    this.infoButtons = document.getElementsByClassName(\"infoButton\");\n    this.rangeControl.max = String(this.framesCount - 1);\n    [this.view] = container.getElementsByClassName(\"view\");\n    this.ctx = this.view.getContext(\"2d\");\n\n    this.generateFrameData();\n    this.cacheImages();\n    this.setFrame(1);\n\n    if (this.rangeControl) {\n      this.rangeControl.addEventListener(\"change\", () => {\n        this.setFrame(+this.rangeControl.value);\n      });\n\n      this.rangeControl.addEventListener(\"input\", () => {\n        this.pause();\n        this.setFrame(+this.rangeControl.value);\n      });\n    }\n\n    this.playButton.addEventListener(\"click\", () => {\n      if (this.isPlaying) {\n        this.pause();\n      } else {\n        this.play();\n      }\n    });\n\n    if (this.closeInfoContainer) {\n      this.closeInfoContainer.addEventListener(\"click\", () => {\n        this.hideInfoContainer();\n      });\n    }\n\n    if (this.infoButtons.length) {\n      for (const infoButton of this.infoButtons) {\n        infoButton.addEventListener(\"click\", () => {\n          const type = infoButton.getAttribute(\"data-type\");\n          this.showInfoContainer(this.info[type]);\n        });\n      }\n    }\n  }\n\n  showInfoContainer(info) {\n    document.getElementById(\"infoContainer\").classList.add(\"show\");\n    document.getElementById(\"infoContainerContent\").innerHTML = info;\n  }\n\n  hideInfoContainer() {\n    document.getElementById(\"infoContainer\").classList.remove(\"show\");\n    document.getElementById(\"infoContainerContent\").innerHTML = \"\";\n  }\n\n  getFrameName(frame) {\n    return `.${this.framesFolder}/${this.namePattern}${\n      this.separator\n    }${`${this.prefix}${frame}`.slice(-this.prefix.length)}.${\n      this.fileExtension\n    }`;\n  }\n\n  setLoadingProgress(percentage) {\n    this.progressBar.style.width = `${percentage}%`;\n    this.loadingStatus.innerText = `Please wait, loading... ${Math.ceil(\n      100 - percentage\n    )}%`;\n\n    if (!percentage) {\n      this.progressBar.remove();\n      this.loadingStatus.remove();\n      this.play();\n      this.onLoad();\n    }\n  }\n\n  generateFrameData() {\n    for (let i = 0; i < this.framesCount; i += 1) {\n      this.data.push(this.getFrameName(i));\n    }\n  }\n\n  cacheImages() {\n    const list = [];\n    for (let i = 0; i < this.data.length; i += 1) {\n      fetch(this.data[i]).then(() => {\n        list.push(i);\n        this.setLoadingProgress(100 - (list.length / this.data.length) * 100);\n      });\n    }\n  }\n\n  setFrame(frame) {\n    if (this.rangeControl) {\n      this.rangeControl.value = frame;\n    }\n    this.currentFrame = frame;\n    const image = new Image();\n    image.src = this.getFrameName(frame);\n    image.onload = () => {\n      this.view.height = this.canvasResolution.height || image.naturalHeight;\n      this.view.width = this.canvasResolution.width || image.naturalWidth;\n      this.ctx.drawImage(\n        image,\n        0,\n        0,\n        this.canvasResolution.width || image.naturalWidth,\n        this.canvasResolution.height || image.naturalHeight\n      );\n    };\n  }\n\n  play() {\n    this.isPlaying = true;\n    this.playButton.innerText = \"Pause\";\n    this.interval = setInterval(() => {\n      if (this.currentFrame < this.framesCount - 1) {\n        this.currentFrame += 1;\n        this.setFrame(this.currentFrame);\n      } else {\n        this.isEnded = true;\n        this.currentFrame = 0;\n        this.pause();\n      }\n    }, 1000 / this.fps);\n  }\n\n  pause() {\n    clearInterval(this.interval);\n    this.isPlaying = false;\n    this.playButton.innerText = \"Play\";\n  }\n\n  destroy() {\n    document.getElementById(this.containerId).innerHTML = \"\";\n    clearInterval(this.interval);\n  }\n}\n","import { Timeline } from \"plugins/timeline\";\nimport \"./index.css\";\n\nconst popup = document.getElementById(\"timeline-wrapper\");\nconst titles = document.getElementsByClassName(\"title\");\nlet timeline;\n\nconst seqCount = {\n  \"INT3D-77-EarlyMeiosis1\": 525,\n  \"INT3D-78-LateMeiosis1\": 326,\n  \"INT3D-79-EarlyMeiosis2\": 306,\n  \"INT3D-80-LateMeiosis2\": 443,\n  \"INT3D-119-Allphasesofmeiosis\": 1594,\n};\n\nconst showVideo = (id) => {\n  popup.classList.add(\"opened\");\n\n  timeline = new Timeline({\n    containerId: \"timeline\",\n    namePattern: id,\n    fileExtension: \"jpg\",\n    framesCount: seqCount[id],\n    framesFolder: `/assets/static/${id}`,\n    fps: 30,\n  });\n\n  timeline.init();\n};\n\nconst closePopUp = () => {\n  if (popup.classList.contains(\"opened\")) {\n    popup.classList.remove(\"opened\");\n    timeline.destroy();\n  }\n};\n\nfor (const title of titles) {\n  title.addEventListener(\"click\", () => {\n    showVideo(title.getAttribute(\"data-point\"));\n  });\n}\n\ndocument.getElementById(\"closeButton\").addEventListener(\"click\", () => {\n  closePopUp();\n});\n"],"names":["LAYOUT","Timeline","containerId","namePattern","fileExtension","framesCount","framesFolder","fps","info","layout","prefix","separator","onLoad","canvasRes","currentFrame","isPlaying","data","interval","isEnded","canvasResolution","container","document","getElementById","classList","add","innerHTML","getElementsByClassName","loadingStatus","progressBar","playButton","rangeControl","closeInfoContainer","infoButtons","max","String","view","ctx","getContext","generateFrameData","cacheImages","setFrame","addEventListener","value","pause","play","hideInfoContainer","length","infoButton","type","getAttribute","showInfoContainer","remove","frame","slice","percentage","style","width","innerText","Math","ceil","i","push","getFrameName","list","fetch","then","setLoadingProgress","image","Image","src","onload","height","naturalHeight","naturalWidth","drawImage","setInterval","clearInterval","popup","titles","timeline","seqCount","showVideo","id","init","closePopUp","contains","destroy","title"],"mappings":"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"}